name = "hanasia-community"
main = "src/index.ts"
compatibility_date = "2025-12-18"

# Bindings (set these in Cloudflare dashboard / wrangler)
# D1: DB
# R2: Media bucket
# KV: optional for rate limiting / caching

[[d1_databases]]
binding = "DB"
database_name = "hanasia_db"
database_id = "REPLACE_ME"

[[r2_buckets]]
binding = "MEDIA"
bucket_name = "hanasia-media"

[vars]
# Comma-separated RSS/Atom feed URLs for scheduled news ingestion
NEWS_FEEDS = "https://www.nationthailand.com/rss,https://www.bangkokpost.com/rss/data/topstories.xml"
# If you want admin creation by id prefix, require this invite code
ADMIN_INVITE_CODE = "CHANGE_ME"

# Cron for news + cleanup
[triggers]
crons = ["*/10 * * * *", "0 3 * * *"]
